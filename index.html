<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- APP ÂêçÁ®±Ë®≠ÂÆö -->
    <meta name="apple-mobile-web-app-title" content="Seoul 2026">
    <meta name="application-name" content="Seoul 2026">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Seoul 2026 (Day 3 Updated)</title>

    <!-- APP Icon 2 (Base64 SVG) - È¶ñÁàæÂ°îÂπæ‰ΩïË®≠Ë®àÁâà -->
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQyIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojOEZBMzlEO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzhFOUFBRjtzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0idXJsKCNncmFkMikiLz48IS0tIFRvd2VyIEdyYXBoaWMgLS0+PHBhdGggZD0iTTI1NiAxMjAgTDI1NiAzNjAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMTgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMjAgMzYwIEwyOTIgMzYwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjE4IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyMjAiIHI9IjM1IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjE1IiBmaWxsPSJub25lIi8+PHRleHQgeD0iNTAlIiB5PSI0NDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iODAwIiBmb250LXNpemU9IjY1IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgbGV0dGVyLXNwYWNpbmc9IjQiPlNFT1VMPC90ZXh0Pjx0ZXh0IHg9IjUwJSIgeT0iNDkwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjMwMCIgZm9udC1zaXplPSIzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjgpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBsZXR0ZXItc3BhY2luZz0iOCI+MjAyNjwvdGV4dD48L3N2Zz4=">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQyIiB4MT0iMCUiIHkxPSIwJSIgeDI9IjEwMCUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojOEZBMzlEO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6IzhFOUFBRjtzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgZmlsbD0idXJsKCNncmFkMikiLz48IS0tIFRvd2VyIEdyYXBoaWMgLS0+PHBhdGggZD0iTTI1NiAxMjAgTDI1NiAzNjAiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMTgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0yMjAgMzYwIEwyOTIgMzYwIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjE4IiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48Y2lyY2xlIGN4PSIyNTYiIGN5PSIyMjAiIHI9IjM1IiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjE1IiBmaWxsPSJub25lIi8+PHRleHQgeD0iNTAlIiB5PSI0NDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXdlaWdodD0iODAwIiBmb250LXNpemU9IjY1IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgbGV0dGVyLXNwYWNpbmc9IjQiPlNFT1VMPC90ZXh0Pjx0ZXh0IHg9IjUwJSIgeT0iNDkwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC13ZWlnaHQ9IjMwMCIgZm9udC1zaXplPSIzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjgpIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBsZXR0ZXItc3BhY2luZz0iOCI+MjAyNjwvdGV4dD48L3N2Zz4=">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Google Fonts: Inter & Noto Sans TC -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
                        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'monospace'],
                    },
                    colors: {
                        ios: {
                            bg: '#F5F5F7',
                            card: '#FFFFFF',
                            text: '#1D1D1F',
                            subtext: '#86868B',
                        },
                        morandi: {
                            green: '#8FA39D',  // Èº†Â∞æËçâÁ∂†
                            blue: '#8E9AAF',   // ÈúßÈúæËóç
                            sand: '#D6C0B3',   // ÊöñÊ≤ôËâ≤
                            rose: '#D6BCC0',   // ‰πæÁá•Áé´Áë∞
                            charcoal: '#5D6D7E', // ÈêµÁÅ∞
                            clay: '#BCAAA4',   // Èô∂Âúü
                            bg: '#F9FAFB',
                        }
                    },
                    boxShadow: {
                        'glass': '0 8px 32px 0 rgba(31, 38, 135, 0.07)',
                        'float': '0 20px 40px -10px rgba(0, 0, 0, 0.08)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(255, 255, 255, 0.5)',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #F5F5F7;
            color: #1D1D1F;
            -webkit-font-smoothing: antialiased;
        }

        /* Èö±ËóèÊç≤Ëª∏‰ΩÜ‰øùÁïôÂäüËÉΩ */
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* ÁéªÁíÉÊì¨ÊÖã */
        .glass-panel {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        /* ÊôÇÈñìËª∏Á∑öÊ¢ù (ËôõÁ∑öÈ¢®Ê†º) */
        .timeline-line {
            border-left: 2px dashed #E5E5EA;
        }

        /* Ëé´Ëò≠Ëø™Âú∞ÂúñÊ®ôË®òÊ®£Âºè */
        .custom-marker-pin {
            width: 30px;
            height: 30px;
            border-radius: 50% 50% 50% 0;
            background: #8FA39D;
            position: absolute;
            transform: rotate(-45deg);
            left: 50%;
            top: 50%;
            margin: -15px 0 0 -15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            border: 2px solid white;
        }
        .custom-marker-icon {
            transform: rotate(45deg);
        }

        /* App Icon Preview Animation */
        .app-icon-preview {
            background: linear-gradient(135deg, #8FA39D 0%, #8E9AAF 100%);
            box-shadow: 0 10px 25px rgba(142, 154, 175, 0.4);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .app-icon-preview:active {
            transform: scale(0.92);
        }
    </style>
</head>
<body class="h-[100dvh] w-full overflow-hidden flex flex-col md:flex-row bg-ios-bg">

    <div id="app" class="flex flex-col md:flex-row w-full h-full">
        
        <!-- Â∑¶ÂÅ¥ÔºöË°åÁ®ãÈõúË™å (Timeline Magazine) -->
        <div class="order-2 md:order-1 w-full md:w-[480px] lg:w-[550px] flex flex-col h-[65%] md:h-full relative z-20 shadow-[20px_0_40px_rgba(0,0,0,0.02)]">
            
            <!-- È†ÇÈÉ®Â∞éËà™ (Glassmorphism) -->
            <div class="absolute top-0 left-0 right-0 z-40 px-6 py-4 glass-panel rounded-b-[2rem] shadow-sm">
                <div class="flex justify-between items-center mb-4">
                    <div>
                        <div class="text-[10px] font-bold tracking-[0.2em] text-morandi-blue uppercase mb-1">Travel Guide</div>
                        <h1 class="text-xl font-black text-ios-text tracking-tight">Seoul <span class="text-morandi-rose">2026</span></h1>
                    </div>
                    <!-- Â§©Ê∞£Â∞èÁµÑ‰ª∂ (ÈªûÊìäÈñãÂïü APP Ë≥áË®ä/ÂúñÁ§∫È†êË¶Ω) -->
                    <div @click="showInfo = true" class="flex items-center gap-2 bg-white/50 px-3 py-1.5 rounded-full border border-white/60 cursor-pointer active:scale-95 transition-transform">
                        <i class="fa-solid fa-cloud-sun text-morandi-sand"></i>
                        <span class="text-xs font-bold text-gray-500">24¬∞C</span>
                    </div>
                </div>

                <!-- Êó•ÊúüÈÅ∏ÊìáÂô® (Pill Style) -->
                <div class="flex overflow-x-auto hide-scroll gap-2 pb-1 snap-x">
                    <button v-for="(day, index) in schedule" :key="index"
                        @click="selectDay(index)"
                        :id="'day-btn-' + index"
                        class="snap-start flex-shrink-0 px-4 py-2 rounded-full text-xs font-bold transition-all duration-300 border border-transparent"
                        :class="currentDayIndex === index 
                            ? 'bg-morandi-charcoal text-white shadow-lg transform scale-105' 
                            : 'bg-white/60 text-ios-subtext hover:bg-white'">
                        Day {{ index + 1 }}
                    </button>
                </div>
            </div>

            <!-- ÂÖßÂÆπÊç≤ÂãïÂçÄ -->
            <div id="timeline-container" class="flex-1 overflow-y-auto hide-scroll pt-36 pb-24 px-6 bg-[#F9FAFB]">
                
                <!-- Áï∂Êó•Ê®ôÈ°åÂç° -->
                <div class="mb-8">
                    <h2 class="text-3xl font-black text-ios-text mb-2 tracking-tight">{{ currentDay.date.split(' ')[1] }}</h2>
                    <p class="text-lg font-medium text-morandi-blue mb-4">{{ currentDay.title }}</p>
                    
                    <div class="flex gap-3">
                        <div class="flex-1 bg-white p-4 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-3">
                            <div class="w-10 h-10 rounded-2xl bg-morandi-sand/20 text-morandi-sand flex items-center justify-center">
                                <i class="fa-solid fa-utensils"></i>
                            </div>
                            <div>
                                <div class="text-[10px] text-gray-400 uppercase font-bold">Lunch</div>
                                <div class="text-xs font-bold text-gray-700 truncate">{{ currentDay.lunch }}</div>
                            </div>
                        </div>
                        <div class="flex-1 bg-white p-4 rounded-3xl shadow-sm border border-gray-100 flex items-center gap-3">
                            <div class="w-10 h-10 rounded-2xl bg-morandi-blue/20 text-morandi-blue flex items-center justify-center">
                                <i class="fa-solid fa-moon"></i>
                            </div>
                            <div>
                                <div class="text-[10px] text-gray-400 uppercase font-bold">Dinner</div>
                                <div class="text-xs font-bold text-gray-700 truncate">{{ currentDay.dinner }}</div>
                            </div>
                        </div>
                    </div>

                    <!-- È¢®Èö™ÊèêÁ§∫ (Alert Style) -->
                    <div v-if="currentDay.notice" class="mt-4 p-4 rounded-3xl bg-morandi-rose/10 border border-morandi-rose/20 flex gap-3 items-start">
                        <i class="fa-solid fa-circle-exclamation text-morandi-rose mt-0.5"></i>
                        <div class="text-xs text-gray-600 leading-relaxed font-medium whitespace-pre-line">
                            {{ currentDay.notice }}
                        </div>
                    </div>
                </div>

                <!-- ÊôÇÈñìËª∏ÂàóË°® -->
                <div class="relative pl-4 space-y-6">
                    <!-- Á∑öÊ¢ù -->
                    <div class="absolute left-[27px] top-4 bottom-10 w-px bg-gradient-to-b from-gray-200 via-gray-200 to-transparent"></div>

                    <div v-for="(event, eIndex) in currentDay.events" :key="eIndex"
                        @click="focusEvent(event)"
                        class="relative pl-8 group cursor-pointer transition-transform duration-200 active:scale-[0.98]">
                        
                        <!-- Ë£ùÈ£æÁØÄÈªû (Custom Dot) -->
                        <div class="absolute left-0 top-6 w-[14px] h-[14px] rounded-full border-[3px] border-white shadow-md z-10 transition-colors duration-300"
                             :class="getDotColor(event.category)">
                        </div>

                        <!-- Âç°ÁâáÊú¨È´î -->
                        <div class="bg-white p-5 rounded-[1.5rem] shadow-float border border-white/50 relative overflow-hidden transition-all duration-300"
                             :class="activeEvent === event ? 'ring-2 ring-morandi-blue ring-offset-2' : 'hover:shadow-lg'">
                            
                            <!-- È†ÇÈÉ®Ë≥áË®ä -->
                            <div class="flex justify-between items-start mb-2">
                                <div class="flex items-center gap-2">
                                    <span class="font-mono text-xs font-bold text-morandi-charcoal bg-gray-100 px-2 py-1 rounded-lg">{{ event.time }}</span>
                                    <span class="text-[10px] font-bold px-2 py-1 rounded-lg uppercase tracking-wider text-white"
                                          :class="getCategoryBadge(event.category)">
                                        {{ event.category }}
                                    </span>
                                </div>
                            </div>

                            <!-- Ê®ôÈ°åËàáÂÖßÂÆπ -->
                            <h3 class="text-base font-bold text-gray-800 mb-2">{{ event.location }}</h3>
                            
                            <div v-if="event.note" 
                                 class="text-sm text-gray-500 leading-relaxed bg-gray-50/80 p-3 rounded-xl border border-gray-100 note-content"
                                 v-html="formatNote(event.note)">
                            </div>

                            <!-- Tags -->
                            <div v-if="event.tags && event.tags.length" class="mt-3 flex flex-wrap gap-2">
                                <span v-for="tag in event.tags" 
                                      class="text-[10px] px-2 py-1 rounded-md font-medium"
                                      :class="tag.includes('È¢®Èö™') || tag.includes('Ê≠ªÁ∑ö') ? 'bg-morandi-rose/20 text-red-700' : 'bg-gray-100 text-gray-500'">
                                    #{{ tag }}
                                </span>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Âè≥ÂÅ¥ÔºöÊ≤âÊµ∏ÂºèÂú∞Âúñ (Immersive Map) -->
        <div id="map-container" class="order-1 md:order-2 flex-1 relative bg-[#E5E5EA]">
            <div id="map" class="w-full h-full outline-none z-0"></div>
            
            <!-- ÊµÆÂãïÂúñ‰æã -->
            <div class="absolute bottom-8 right-8 z-[400] glass-panel px-4 py-3 rounded-2xl shadow-glass hidden md:block">
                <div class="text-[10px] font-bold text-gray-400 uppercase mb-2 tracking-widest">Legend</div>
                <div class="space-y-2">
                    <div class="flex items-center gap-2 text-xs font-medium text-gray-600">
                        <span class="w-3 h-3 rounded-full bg-[#8FA39D]"></span> Transport
                    </div>
                    <div class="flex items-center gap-2 text-xs font-medium text-gray-600">
                        <span class="w-3 h-3 rounded-full bg-[#D6C0B3]"></span> Food
                    </div>
                    <div class="flex items-center gap-2 text-xs font-medium text-gray-600">
                        <span class="w-3 h-3 rounded-full bg-[#8E9AAF]"></span> Shopping
                    </div>
                    <div class="flex items-center gap-2 text-xs font-medium text-gray-600">
                        <span class="w-3 h-3 rounded-full bg-[#D6BCC0]"></span> Activity
                    </div>
                </div>
            </div>

            <!-- iOS È¢®Ê†ºÊµÆÂãïÊåâÈàï (Mobile Only) -->
            <button class="md:hidden absolute bottom-6 right-6 z-[400] w-12 h-12 bg-morandi-charcoal text-white rounded-full shadow-lg flex items-center justify-center text-lg active:scale-90 transition-transform"
                @click="scrollToCurrent">
                <i class="fa-solid fa-location-arrow"></i>
            </button>
        </div>

        <!-- APP Ë≥áË®äËàáÂúñÁ§∫È†êË¶Ω Modal -->
        <div v-if="showInfo" class="fixed inset-0 z-[1000] flex items-center justify-center p-6 bg-black/20 backdrop-blur-sm" @click.self="showInfo = false">
            <div class="bg-white rounded-[2rem] p-8 w-full max-w-sm shadow-2xl relative overflow-hidden text-center transform transition-all">
                
                <!-- App Icon Preview (Updated to Icon 2: Tower) -->
                <div class="mx-auto w-32 h-32 rounded-[2rem] app-icon-preview mb-6 flex flex-col items-center justify-center text-white relative border-[4px] border-white/20">
                    <!-- Icon Graphic: Tower -->
                    <div class="flex flex-col items-center gap-1 mt-2">
                        <div class="w-1 h-8 bg-white/90 rounded-full"></div>
                        <div class="w-8 h-1 bg-white/90 rounded-full"></div>
                        <div class="w-3 h-3 rounded-full border-[3px] border-white bg-transparent"></div>
                        <div class="w-6 h-8 border-x-[3px] border-white/90"></div>
                    </div>
                    <!-- Text -->
                    <span class="font-extrabold text-xl drop-shadow-sm mt-1">SEOUL</span>
                    <span class="font-light text-xs tracking-[0.2em] drop-shadow-sm opacity-80">2026</span>
                    
                    <!-- Shine Effect -->
                    <div class="absolute inset-0 bg-gradient-to-tr from-transparent via-white/20 to-transparent rounded-[1.8rem]"></div>
                </div>

                <h3 class="text-xl font-bold text-gray-800 mb-2">Seoul 2026</h3>
                <p class="text-sm text-gray-500 mb-6 px-4">
                    Ê≠§ APP ÂúñÁ§∫Â∑≤Êõ¥Êñ∞ÁÇ∫„ÄåÈ¶ñÁàæÂ°î„ÄçË®≠Ë®à„ÄÇ<br>
                    iOS Áî®Êà∂Ë´ãÈªûÊìä Safari Â∫ïÈÉ® <i class="fa-solid fa-arrow-up-from-bracket mx-1"></i> ÂàÜ‰∫´ÊåâÈàïÔºå<br>ÈÅ∏Êìá„ÄåÂä†ÂÖ•‰∏ªÁï´Èù¢„ÄçÂç≥ÂèØ‰ΩøÁî®„ÄÇ
                </p>

                <button @click="showInfo = false" class="w-full py-3 bg-gray-100 hover:bg-gray-200 rounded-xl text-gray-800 font-bold transition-colors">
                    ÈóúÈñâ
                </button>
            </div>
        </div>

    </div>

    <script>
        const { createApp, ref, onMounted, nextTick } = Vue;

        createApp({
            setup() {
                const showInfo = ref(false); // ÊéßÂà∂ÂúñÁ§∫È†êË¶Ω Modal

                // Ë≥áÊñôÊõ¥Êñ∞ÔºöÂÆåÂÖ®ÁΩÆÂÖ•ÊÇ®Êèê‰æõÁöÑË©≥Á¥∞Ë°åÁ®ãÔºå‰∏¶Ë£ú‰∏äÂú∞ÂúñÂ∫ßÊ®ô
                const schedule = ref([
                    {
                        date: "06/01 (‰∏Ä) Day 1",
                        title: "È´òÈõÑ ‚ûî È¶ñÁàæ (ÁßªÂãïÊó•)",
                        lunch: "Ê©ü‰∏ä/Ê©üÂ†¥",
                        dinner: "Â§ñÈÄÅ (ÁçµÂ•áÂπ¥Á≥ï/Ê©ãÊùëÁÇ∏Èõû)",
                        events: [
                            { time: "12:00", location: "ÂÆ∂Ë£°Âá∫Áôº", category: "transport", note: "üïí ÊôÇÈñìÔºöÈ†êË®à 12:00-12:30 Âá∫ÈñÄ (‰øùÁïôÁ∑©Ë°ù)\nÁõÆÊ®ôÔºöÈ´òÈõÑÂ∞èÊ∏ØÊ©üÂ†¥ (KHH)", coords: [22.5768, 120.3478] },
                            { time: "13:30", location: "ÊäµÈÅîÊ©üÂ†¥ & Ëæ¶ÁêÜÁôªÊ©ü", category: "flight", note: "‚úàÔ∏è Ëà™Áè≠ÔºöÂè∞ÁÅ£ËôéËà™ IT662\n‚ö†Ô∏è Âãï‰ΩúÔºöÊâòÈÅãË°åÊùé„ÄÅÈ†òÁôªÊ©üË≠â„ÄÅÈÅéÂÆâÊ™¢", coords: [22.5768, 120.3478] },
                            { time: "15:15", location: "„ÄêÁôªÊ©üÊôÇÈñì Boarding„Äë", category: "alert", note: "üìç Âãï‰ΩúÔºöÂâçÂæÄÁôªÊ©üÈñÄÊ∫ñÂÇôÊéíÈöä\n‚ö†Ô∏è Ê≠ªÁ∑öÔºöÁôªÊ©üÈñÄÈÄöÂ∏∏Êñº 15:35 ÈóúÈñâÔºåË´ãÂãøÈÅ≤Âà∞", tags: ["Ê≠ªÁ∑ö"], coords: null },
                            { time: "15:55", location: "Ëµ∑È£õ (ÂâçÂæÄÈ¶ñÁàæÈáëÊµ¶)", category: "flight", note: "È†êË®àÈ£õË°åÊôÇÈñìÁ¥Ñ 2Â∞èÊôÇ45ÂàÜ", coords: null },
                            { time: "19:40", location: "ÊäµÈÅîÈáëÊµ¶Ê©üÂ†¥ (GMP)", category: "transport", note: "ÂÖ•Â¢É„ÄÅÊèêÈ†òË°åÊùé", coords: [37.5587, 126.8028] },
                            { time: "20:30", location: "‰∫§ÈÄöÔºöÈáëÊµ¶Ê©üÂ†¥ ‚ûî È£ØÂ∫ó", category: "transport", note: "üöï ÊñπÂºèÔºöË®àÁ®ãËªä\nüïí ÊôÇÈñìÔºö‰º∞ 45-60 ÂàÜÈêò (Âê´ÊéíÈöä/Â°ûËªäÁ∑©Ë°ù)\nüí∞ ËªäË≥áÔºöÁ¥Ñ 25,000 ÈüìÂÖÉËµ∑ (‰æùË∑ØÊ≥ÅÊµÆÂãï)", coords: [37.5587, 126.8028] },
                            { time: "20:50", location: "„ÄêÈóúÈçµÂãï‰Ωú„ÄëÂè´Â§ñÈÄÅÊ±∫Á≠ñ", category: "alert", note: "A. È†ÜÂà©‰∏äËªäÔºöÂú®Ë®àÁ®ãËªä‰∏äÂè´ (È†ê‰º∞ 21:10 ÊäµÈÅî)\nB. Âª∂Ë™§/Â°ûËªäÔºöÊäµÈÅîÈ£ØÂ∫óÂÜçÂè´ (ÊîπÈªûÊ©ãÊùëÁÇ∏ÈõûÔºåËºÉËÄêÊîæ)", coords: null },
                            { time: "21:10", location: "‰πùÊ®π ROKAUS ÈæçÂ±± Check-in", category: "hotel", note: "ÊäµÈÅî Check-in (Â∑≤ÈÅé 15:00 ÂèØÁõ¥Êé•ÂÖ•Êàø)", coords: [37.5293, 126.9654] },
                            { time: "21:30", location: "Â§ßÂª≥ÂèñÈ§êÂêÉÂÆµÂ§ú", category: "food", note: "„ÄêPlan A„ÄëÁçµÂ•áËæ£ÁÇíÂπ¥Á≥ï (ÈúÄ 21:20 Ââç‰∏ãÂñÆ)\n„ÄêPlan B„ÄëÊ©ãÊùëÁÇ∏Èõû (Ëã•Ë∂ï‰∏ç‰∏äÂπ¥Á≥ïÊîπÂêÉÈÄôÂÄã)", coords: [37.5293, 126.9654] }
                        ]
                    },
                    {
                        date: "06/02 (‰∫å) Day 2",
                        title: "Â§¢Á¢≥(SOP)ÔºãÂä†Â±±Outlet",
                        lunch: "Â§¢Á¢≥ (ÁáíËÇâ)",
                        dinner: "Outlet Ëá™ÁêÜ",
                        events: [
                            { time: "10:00", location: "‰∫§ÈÄöÔºöÈ£ØÂ∫ó ‚ûî Â§¢Á¢≥", category: "transport", note: "üìç Âú∞ÂùÄÔºöÈ¶ñÁàæ ÈæçÂ±±ÂçÄ ÁôΩÂá°Ë∑Ø99Ë°ó 50\nüöå Êé®Ëñ¶ÔºöÂÖ¨Ëªä (Á¥Ñ 11 ÂàÜÈêò / ÊúÄÂø´) ‚ûî [‰∏âËßíÂú∞Á´ô] ‰∏ãËªä\nüö∂ ÂÇôÊ°àÔºöÊ≠•Ë°å (Á¥Ñ 23 ÂàÜÈêò / 1.4km)", coords: [37.5372, 126.9698] },
                            { time: "10:40", location: "Â§¢Á¢≥ÔºöÊäµÈÅîÁèæÂ†¥Ê∫ñÂÇôÂÄô‰Ωç", category: "food", note: "‚ö†Ô∏è Ë¶èÂâáÔºö11:00 ÈñãÊîæÁèæÂ†¥Ê©üÂè∞ÁôªË®ò (‰∏çÂèØÊåáÂÆöÊôÇÈñì/ÁÑ°È†êÁ¥Ñ)\nüìã Âãï‰ΩúÔºö10:40 ÂâçÊäµÈÅîÂë®ÈÇä ‚ûî 11:00 Ê∫ñÊôÇÊìç‰ΩúÊ©üÂè∞\nüõë È¢®Èö™ÊéßÁÆ°ÔºöËã•ÈúÄÁ≠â 3hr+ÔºåÁõ¥Êé•ÂïüÂãïÂÇôÊ°àÂçàÈ§ê", tags: ["ÊéíÈöäÈóúÈçµ"], coords: [37.5372, 126.9698] },
                            { time: "‰∏äÂçà", location: "ÈôÑËøëÂíñÂï°Âª≥Á≠âÂæÖ", category: "food", note: "Â¶Ç: Approach Coffee", coords: [37.5288, 126.9715] },
                            { time: "12:00", location: "ÂçàÈ§êÔºöÂ§¢Á¢≥ (ÁáíËÇâ)", category: "food", note: "üïí ÁáüÊ•≠Ôºö12:00 ÈñãÂßãÂè´ËôüÂÖ•Â∫ß\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 - 2 Â∞èÊôÇ", coords: [37.5372, 126.9698] },
                            { time: "14:30", location: "„ÄêÁ©∫Á™óÊúüÊ±∫Á≠ñ„Äë", category: "alert", note: "üí° ÈÅ∏È†Ö A (Âë≥ÈÅìÈáç/ÈúÄË£úÂ¶ù)ÔºöÂõûÈ£ØÂ∫ó (15:30 ÂøÖÈ†àÂá∫Áôº)\nüí° ÈÅ∏È†Ö B (Á≤æÁ•û‰Ω≥)ÔºöAmore Pacific Á∏ΩÈÉ® (15:40 ÂøÖÈ†àÈõ¢Èñã)\nüí° ÈÅ∏È†Ö C (‰∫∫ÊΩÆÁÑ¶ÊÖÆ)ÔºöÁõ¥Êé•ÊèêÊó©Âéª Outlet (Êà∞ÂäõÊúÄÂº∑Âåñ)", coords: [37.5293, 126.9654] },
                            { time: "16:00", location: "‰∫§ÈÄöÔºöÈæçÂ±± ‚ûî Âä†Â±±Êï∏Á¢ºÂúíÂçÄ", category: "transport", note: "üöá Âú∞ÈêµÔºö1ËôüÁ∑ö [ÈæçÂ±±] ‚ûî [Âä†Â±±Êï∏Á¢ºÂúíÂçÄ] (ÂæÄ‰ªÅÂ∑ù/Ê∞¥ÂéüÊñπÂêë)\nüïí ÊôÇÈñìÔºöÂÖ®Á®ãÁ¥Ñ 35-40 ÂàÜÈêò (Âê´Ê≠•Ë°åËàáÂÄôËªä)\n*Ë®ªÔºöÈ£ØÂ∫óÊ≠•Ë°åËá≥ËªäÁ´ôÁ¥Ñ5ÂàÜ+‰πòËªä19ÂàÜ+Âá∫Á´ôÊ≠•Ë°åÁ¥Ñ10ÂàÜ", coords: [37.4815, 126.8826] },
                            { time: "16:40", location: "Mario Outlet 1/2/3È§®", category: "shopping", note: "üïí ÁáüÊ•≠ÔºöÂπ≥Êó•(ÈÄ±‰∫å) Ëá≥ 21:00\n‚ö†Ô∏è ÈÄ≤Â†¥ SOPÔºö1.ÂÖàÊãçÊ®ìÂ±§Â∞éË¶Ω 2.ÈéñÂÆöÁõÆÊ®ôÂìÅÁâåÊ®ìÂ±§\n====== üõçÔ∏è Ë≥ºÁâ©ÂãïÁ∑ö ======\n‚ù∂ [16:40-17:50] 2È§® (Leisure)ÔºöÂÖàÊîªÊ©üËÉΩ (North Face, K2)\n‚ù∑ [17:50-19:20] 3È§® (Mario Mall)ÔºöÂÜçÊîªÊΩÆÊµÅ (MLB, Discovery)\n‚ù∏ [19:20-20:00] Ê±∫Á≠ñËàáË§áÈ©ó\n‚ùπ [20:00-20:30] ÊôöÈ§ê (3È§®ÁæéÈ£üË°ó)", tags: ["Êà∞ÂäõÂÖ®Èñã"], coords: [37.4784, 126.8887] },
                            { time: "20:30", location: "‰∫§ÈÄöÔºöÂä†Â±± ‚ûî ÈæçÂ±±", category: "transport", note: "üöá Âú∞ÈêµÔºö1ËôüÁ∑öÁõ¥ÈÅî [ÈæçÂ±±Á´ô] (Á¥Ñ 35-40 ÂàÜÈêò)", coords: [37.5293, 126.9654] },
                            { time: "21:15", location: "ÊäµÈÅîÈ£ØÂ∫ó", category: "hotel", note: "Êï¥ÁêÜÂ§ßÈáèÊà∞Âà©ÂìÅ", coords: [37.5293, 126.9654] }
                        ]
                    },
                    {
                        date: "06/03 (‰∏â) Day 3",
                        title: "ÈæçÁêÜÂúòË∑Ø(1.5h)ÔºãÁãéÈ∑ó‰∫≠(3.5h)ÔºãÊº¢ÂçóÊ¥û(3h)",
                        lunch: "ÈæçÁêÜÂúòË∑ØÊó©ÂçàÈ§ê (‰∏âÈÅ∏‰∏Ä)",
                        dinner: "Êº¢ÂçóÊ¥û 24H È¶¨Èà¥ËñØÊπØ",
                        events: [
                            {
                                time: "09:30",
                                location: "‰∫§ÈÄöÔºöÈ£ØÂ∫ó ‚ûî ÈæçÁêÜÂúòË∑Ø (Êó©ÂçàÈ§êÊà∞ÂçÄ)",
                                category: "transport",
                                note: "üí° Á≠ñÁï•ÔºöÂêçÂ∫ó‰ΩçÊñº„Äå‰∏âËßíÂú∞Á´ô„ÄçÈôÑËøëÔºåÈõ¢È£ØÂ∫óÁ¥Ñ 1.2kmÔºåÂª∫Ë≠∞Êê≠ËªäÁúÅÂäõ\nüöá Âú∞ÈêµÔºö4ËôüÁ∑ö [Êñ∞ÈæçÂ±±Á´ô] ‚ûî [‰∏âËßíÂú∞Á´ô] (Êê≠ 1 Á´ô / 3ËôüÂá∫Âè£)\nüöå ÂÖ¨ËªäÔºöËóçËâ≤Â∑¥Â£´ 100/150/151 Á≠â (Êê≠ 2 Á´ô) ‚ûî [‰∏âËßíÂú∞Á´ô]\nüö∂ Ê≠•Ë°åÔºöÊ≤øÂ§ßÈ¶¨Ë∑ØÁõ¥Ëµ∞Á¥Ñ 20-25 ÂàÜÈêò (6ÊúàÂ§©Ê∞£ÁÜ±ÔºåÂº∑ÁÉà‰∏çÂª∫Ë≠∞)",
                                coords: [37.5312, 126.9705]
                            },
                            {
                                time: "‰∏äÂçà",
                                location: "Êó©ÂçàÈ§êÂêçÂ∫ó„Äê‰∏âÈÅ∏‰∏Ä„Äë(ÁöÜ‰ΩçÊñº‰∏âËßíÂú∞Á´ôÂë®ÈÇä)",
                                category: "food",
                                note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ (Âê´ÂÄô‰ΩçËàáÁî®È§ê)\n‚ù∂ Dotori (Ê©°ÂØ¶)ÔºöÁâπËâ≤ÂÑ™Ê†º/Ê©°ÂØ¶È∫µÂåÖ (ÂæíÊ≠•Á¥Ñ 3 ÂàÜÈêò)\n‚ù∑ SAM SAM SAMÔºöÁæéÂºèÂæ©Âè§ÂÆ∂Â∏∏Ëèú (ÂæíÊ≠•Á¥Ñ 3 ÂàÜÈêò)\n‚ù∏ Teddy Beurre HouseÔºöÊ≥ïÂºèÂèØÈ†åÂêçÂ∫ó (ÂæíÊ≠•Á¥Ñ 2 ÂàÜÈêò)",
                                coords: [37.5312, 126.9705]
                            },
                            {
                                time: "12:00",
                                location: "‰∫§ÈÄöÔºöÈæçÁêÜÂúòË∑Ø ‚ûî ÁãéÈ∑ó‰∫≠/ÁæÖÂæ∑Â•ß (ÂñÆÊ¨°ÊúÄÈÅ†Ë∑ùÈõ¢)",
                                category: "transport",
                                note: "üöï Âª∫Ë≠∞ÔºöË®àÁ®ãËªä (Ë∑®ÂçÄÊúÄÂø´)\nüïí ÊôÇÈñìÔºö‰øÆÊ≠£‰º∞ 25-35 ÂàÜÈêò (Ë¶ñÊº¢ÂçóÂ§ßÊ©ãË∑ØÊ≥ÅÊµÆÂãï)\nüí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 4ËôüÁ∑öËΩâ 3ËôüÁ∑ö [Êñ∞Ê≤ô] (Á¥Ñ 40 ÂàÜÈêò)",
                                coords: [37.5273, 127.0392]
                            },
                            {
                                time: "‰∏ãÂçà",
                                location: "ÁãéÈ∑ó‰∫≠ / ÁæÖÂæ∑Â•ß (Â≥∂Â±±ÂÖ¨ÂúíÂë®ÈÇä)",
                                category: "shopping",
                                note: "ÈÄõÁ≤æÂìÅËàáÊΩÆÁâå\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 3.5 - 4 Â∞èÊôÇ (ÂçÄÂüüËºÉÂ§ßÔºåÂê´‰∏ãÂçàËå∂)",
                                coords: [37.5273, 127.0392]
                            },
                            {
                                time: "16:00",
                                location: "‰∫§ÈÄöÔºöÁãéÈ∑ó‰∫≠ ‚ûî Êº¢ÂçóÊ¥û (Á∑öÊÄßÂõûÁ®ã)",
                                category: "transport",
                                note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂ∑¥Â£´ 142 / 144 / 472 (È†ÜÂêëÂõûÁ®ã)\nüïí ÊôÇÈñìÔºöÂÖ¨ËªäÁ¥Ñ 15-20 ÂàÜÈêò + Ê≠•Ë°åËá≥ÂïÜÂúàÁ¥Ñ 10 ÂàÜÈêò\nüöï ÂÇôÊ°àÔºöË®àÁ®ãËªäÁ¥Ñ 10-15 ÂàÜÈêò (Á¥Ñ 10,000 ÈüìÂÖÉ)",
                                coords: [37.5348, 127.0012]
                            },
                            {
                                time: "‰∏ãÂçà",
                                location: "Êº¢ÂçóÊ¥ûÈÄõË°ó (Ë®≠Ë®àÂ∏´ÂìÅÁâå„ÄÅÂíñÂï°Âª≥)",
                                category: "shopping",
                                note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 3 Â∞èÊôÇ (Âê´ÈÄõË°óËàáÊôöÈ§ê)\n*Ë®ªÔºöËã• D2 Â∑≤Ë≤∑Â§†Êà∂Â§ñÁâåÔºåÈÄôË£°Â∞àÊîªË®≠Ë®àÂ∏´ÊΩÆÁâå (Mardi, MaritheÁ≠â)",
                                coords: [37.5348, 127.0012]
                            },
                            {
                                time: "19:30",
                                location: "Ê≠•Ë°åÂâçÂæÄÔºöÊº¢ÂçóÊ¥û 24Â∞èÊôÇÈ¶¨Èà¥ËñØÊéíÈ™®ÊπØ",
                                category: "transport",
                                note: "ÊàñÂë®ÈÇäÊôöÈ§ê",
                                coords: [37.5332, 127.0028]
                            },
                            {
                                time: "20:00",
                                location: "ÊôöÈ§êÔºöÊº¢ÂçóÊ¥û 24Â∞èÊôÇÈ¶¨Èà¥ËñØÊéíÈ™®ÊπØ",
                                category: "food",
                                note: "",
                                coords: [37.5332, 127.0028]
                            },
                            {
                                time: "21:30",
                                location: "‰∫§ÈÄöÔºöÊº¢ÂçóÊ¥û ‚ûî ‰πùÊ®π ROKAUS ÈæçÂ±± (Áü≠Á®ãÊî∂Â∞æ)",
                                category: "transport",
                                note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂ∑¥Â£´ 400 / 110B (Áõ¥ÈÅîÈ£ØÂ∫óÈôÑËøë)\nüïí ÊôÇÈñìÔºöÂÖ¨ËªäÁ¥Ñ 20 ÂàÜÈêò (Naver Map È©óË≠â)\nüöï ÂÇôÊ°àÔºöË®àÁ®ãËªäÁ¥Ñ 10 ÂàÜÈêò (Á¥Ñ 8,000 ÈüìÂÖÉ)",
                                coords: [37.5293, 126.9654]
                            }
                        ]
                    },
                    {
                        date: "06/04 (Âõõ) Day 4",
                        title: "Êò•Â∑ù‰∏ÄÊó•ÈÅä (ÁâßÂ†¥ÔºãÈêµÈÅì)",
                        lunch: "ÊòéÊ¥ûËæ£ÁÇíÈõûÊéí",
                        dinner: "ËªäÁ´ôËá™ÁêÜ",
                        notice: "1. [ÁÅ´Ëªä] 5/4 07:00 Êê∂ ITX (Âéª09:17/Âõû18:56)\n2. [È†êÁ¥Ñ] Êò•Â∑ùÂ§ñÂúã‰∫∫ËßÄÂÖâË®àÁ®ãËªä & Ê±üÊùëÈêµË∑ØËá™Ë°åËªä 16:30Â†¥\n3. [ÁèæÈáë] Ê∫ñÂÇô 8Ëê¨ÈüìÂÖÉ‰ªòË®àÁ®ãËªä\n4. [Ë≠â‰ª∂] ÂãôÂøÖÂ∏∂Ë≠∑ÁÖß",
                        events: [
                            { time: "09:17", location: "ÈæçÂ±±Á´ô (Yongsan)", category: "transport", note: "üöÑ Êê≠‰πò ITX-ÈùíÊò•ËôüÂá∫Áôº (Âª∫Ë≠∞Ëªä‰∏äÂêÉÊó©È§ê)\nüí∞ Á•®ÂÉπÔºöÂñÆÁ®ãÁ¥Ñ 9,800 ÈüìÂÖÉ", coords: [37.5298, 126.9647] },
                            { time: "10:40", location: "ÊäµÈÅîÊò•Â∑ùÁ´ô", category: "activity", note: "üìç Âãï‰ΩúÔºöÂâçÂæÄ 1 ËôüÂá∫Âè£„ÄåTravel Island„ÄçÊ´ÉÊ™Ø\nüìã ‰ªªÂãôÔºöÂá∫Á§∫Ë≠∑ÁÖß„ÄÅÊ†∏Â∞çÈ†êÁ¥ÑË≥áÊñô", coords: [37.8844, 127.7171] },
                            { time: "11:00", location: "Ë®àÁ®ãËªäÂåÖËªäÂïüÂãï", category: "transport", note: "üöï Êåá‰ª§ÔºöÊ∫ñÊôÇ‰∏äËªä (ÁõÆÊ®ô 5hr / È†êÁÆó 7Ëê¨ÈüìÂÖÉ)", coords: [37.8844, 127.7171] },
                            { time: "11:40", location: "Âπ∏Á¶èËçâÂéüÁâßÂ†¥", category: "activity", note: "üïí ÂÅúÁïôÔºö1.5 Â∞èÊôÇ (Áà¨Âù°ÊãçÂ∞èÁëûÂ£´ÁµïÊôØ„ÄÅ‰∏ãÂ±±È§µÁ∂øÁæä)", coords: [37.9472, 127.6703] },
                            { time: "13:35", location: "È¶¨Èà¥ËñØÈ∫µÂåÖ", category: "food", note: "ü•° Êåá‰ª§ÔºöÂ§ñÂ∏∂Ê®°Âºè (Takeout Only)\n‚ö†Ô∏è ÈáçÈªûÔºöÂè™ÊãçÁÖßÔºãË≤∑È∫µÂåÖÂ§ñÂ∏∂Ôºå‰∏çÂÖßÁî® (ÁúÅÊôÇÈóúÈçµ)", coords: [37.9255, 127.7812] },
                            { time: "14:20", location: "ÊòéÊ¥ûËæ£ÁÇíÈõûÊéíË°ó", category: "food", note: "üïí ÂÅúÁïôÔºö1 Â∞èÊôÇ (ÂæûÂÆπ‰∫´Áî®ÂçàÈ§ê)\n‚ö†Ô∏è Ê≠ªÁ∑ö (GATE)Ôºö15:25 ÂøÖÈ†à‰∏äËªäÈõ¢Èñã", tags: ["Ê≠ªÁ∑ö"], coords: [37.8797, 127.7283] },
                            { time: "15:45", location: "ÊäµÈÅîÈáëË£ïË≤ûÁ´ô", category: "transport", note: "üõë Âãï‰ΩúÔºöË®àÁ®ãËªä‰ªªÂãôÁµêÊùü\nüí∞ ‰ªòÊ¨æÔºöÊîØ‰ªòÁèæÈáëÁ¥Ñ 70,000 ÈüìÂÖÉÁµ¶Âè∏Ê©ü (Âê´Ë∂ÖÊôÇË≤ª)", tags: ["ÁèæÈáë"], coords: [37.8164, 127.7135] },
                            { time: "15:45", location: "Â†±Âà∞Á∑©Ë°ù", category: "alert", note: "üöª Âãï‰ΩúÔºö‰∏äÂªÅÊâÄ„ÄÅÊèõÂØ¶È´îÁ•®„ÄÅ16:10 ÂâçÊäµÈÅîÊê≠‰πòÂçÄÈõÜÂêà", coords: [37.8164, 127.7135] },
                            { time: "16:30", location: "Ê±üÊùëÈêµË∑ØËá™Ë°åËªä", category: "activity", note: "üïí È´îÈ©óÔºöÁ¥Ñ 1.5 Â∞èÊôÇ (È®éË°å50ÂàÜ + ÁÅ´Ëªä20ÂàÜ + Êé•ÈßÅËªä)\n‚ö†Ô∏è ÊôÇÈñìÊé®ÁÆóÔºöÁ¥Ñ 18:00 ÂõûÂà∞ÈáëË£ïË≤ûÁ´ô", coords: [37.8164, 127.7135] },
                            { time: "18:15", location: "Âú∞ÈêµÁßªÂãï", category: "transport", note: "üöá Âãï‰ΩúÔºöÊê≠‰πò‰∫¨Êò•Á∑öÂú∞Èêµ (ÂæÄÊò•Â∑ùÊñπÂêë) Âùê 1 Á´ô", coords: [37.8164, 127.7135] },
                            { time: "18:25", location: "ÂçóÊò•Â∑ùÁ´ô (Namchuncheon)", category: "transport", note: "‚òï Âãï‰ΩúÔºöÂá∫Á´ô‰ºëÊÅØ„ÄÅË≤∑Èõ∂È£üÂÄôËªä", coords: [37.8638, 127.7239] },
                            { time: "18:56", location: "ÂõûÁ®ãÈ¶ñÁàæ (ITX-ÈùíÊò•Ëôü)", category: "transport", note: "üöÑ „ÄêPlan AÔºöÈ¶ñÈÅ∏„ÄëÂçóÊò•Â∑ù 18:56 Áôº ‚ûî 20:11 ÊäµÈÅîÈæçÂ±±\nüöÑ „ÄêPlan BÔºöÂÇôÊ°à„ÄëÂçóÊò•Â∑ù 19:56 Áôº ‚ûî 21:14 ÊäµÈÅîÈæçÂ±±", coords: [37.5298, 126.9647] }
                        ]
                    },
                    {
                        date: "06/05 (‰∫î) Day 5",
                        title: "ÈÜ´Áæé(3.5h)ÔºãËÅñÊ∞¥Ê¥û(5h)",
                        lunch: "ÁÉ§Èª® (ËÅñÊ∞¥Â∫ó)",
                        dinner: "ËÅñÊ∞¥È¶¨Èà¥ËñØÊéíÈ™®ÊπØ",
                        events: [
                            { time: "10:15", location: "‰∫§ÈÄöÔºöÈæçÂ±± ‚ûî ËàçÂ†Ç", category: "transport", note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 4ËôüÁ∑ö [Êñ∞ÈæçÂ±±] ‚ûî [ËàçÂ†Ç]\nüïí ÊôÇÈñìÔºö‰πòËªäÁ¥Ñ 13 ÂàÜÈêò + Ê≠•Ë°åÁ¥Ñ 5 ÂàÜÈêò (Á∏ΩË®à 20 ÂàÜÈêò)", coords: [37.4765, 126.9816] },
                            { time: "11:00", location: "ËàçÂ†ÇÈÜ´ÁæéÁôÇÁ®ã", category: "activity", note: "üïí È†ê‰º∞ÂÅúÁïôÔºö3 ~ 3.5 Â∞èÊôÇ (Âê´Ë´ÆË©¢„ÄÅÈ∫ªÈÜâ„ÄÅÊñΩ‰Ωú„ÄÅ‰øÆÂæ©)", coords: [37.4765, 126.9816] },
                            { time: "14:30", location: "ÁôÇÁ®ãÁµêÊùüÔºåÊ∫ñÂÇôÁßªÂãï", category: "alert", note: "", coords: null },
                            { time: "14:40", location: "‰∫§ÈÄöÔºöËàçÂ†Ç ‚ûî ËÅñÊ∞¥", category: "transport", note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 2ËôüÁ∑ö [ËàçÂ†Ç] ‚ûî [ËÅñÊ∞¥]\nüïí ÊôÇÈñìÔºö‰πòËªäÁ¥Ñ 27 ÂàÜÈêò + Ê≠•Ë°åÁ¥Ñ 10 ÂàÜÈêò (Á∏ΩË®à 40 ÂàÜÈêò)\n*ÈÄ±‰∫î‰∏ãÂçàÂøÖÂ°ûËªäÔºåÂº∑ÁÉàÂª∫Ë≠∞Êê≠Âú∞Èêµ", coords: [37.5445, 127.0560] },
                            { time: "15:20", location: "ÂçàÊôöÈ§êÔºöÁÉ§Èª® (ËÅñÊ∞¥Â∫ó)", category: "food", note: "‚ö†Ô∏è ÊèêÈÜíÔºöÁ∂≤Á¥ÖÂêçÂ∫óÔºåÈõñÂâõÈñãÈñÄ‰ΩÜÈÄ±‰∫î‰ªçÂèØËÉΩÈúÄÂÄô‰Ωç\n*Á≠ñÁï•ÔºöÂÖàÂéªÁôªË®òÂÄô‰Ωç (Catchtable)ÔºåËã•ÈúÄ‰πÖÂÄôÂâáÂÖàÈÄõË°ó", coords: [37.5428, 127.0543] },
                            { time: "‰∏ãÂçà", location: "ËÅñÊ∞¥Ê¥ûÈÄõË°ó", category: "shopping", note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 4 - 5 Â∞èÊôÇ (Âê´Áî®È§ê„ÄÅÂíñÂï°Âª≥„ÄÅÈÄõË°ó)", coords: [37.5445, 127.0560] },
                            { time: "ÊôöÈ§ê", location: "ËÅñÊ∞¥È¶¨Èà¥ËñØÊéíÈ™®ÊπØ", category: "food", note: "Êàñ ÂíñÂï°Âª≥ÁîúÈªû", coords: [37.5445, 127.0560] },
                            { time: "20:30", location: "‰∫§ÈÄöÔºöËÅñÊ∞¥ ‚ûî È£ØÂ∫ó", category: "transport", note: "üöï Âª∫Ë≠∞ÔºöË®àÁ®ãËªä (Ë°ìÂæåÂª∫Ë≠∞ËàíÈÅ©ÁßªÂãï)\nüïí ÊôÇÈñìÔºöËªäÁ®ãÁ¥Ñ 30-40 ÂàÜÈêò (Á¥Ñ 20,000 ÈüìÂÖÉ)\nüí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞ÈêµËΩâ‰πòÁ¥Ñ 45 ÂàÜÈêò (ËºÉÁ¥Ø)", coords: [37.5293, 126.9654] }
                        ]
                    },
                    {
                        date: "06/06 (ÂÖ≠) Day 6",
                        title: "ÁõäÂñÑÊ¥ûÔºãÊñ∞ÁæÖÂÖçÁ®Ö",
                        lunch: "ÁõäÂñÑÁø†Èüø / ÁÑ°ÊãõÁâåÂ∫ó",
                        dinner: "ÈõûÊûóÈ£üÂ†Ç (ÂÇôÊ°à:‰πôÊîØÁ≤æËÇâ)",
                        events: [
                            { time: "09:00", location: "Catchtable ÂèñËôü", category: "alert", note: "ÈÅ†Á´ØÂèñËôüÔºöArtist Bakery", coords: null },
                            { time: "10:00", location: "‰∫§ÈÄöÔºöÈæçÂ±± ‚ûî ÂÆâÂúãÁ´ô", category: "transport", note: "üí≥ Âú∞Èêµ 4ËôüÁ∑ö [Êñ∞ÈæçÂ±±] ‚ûî [Âø†Ê≠¶Ë∑Ø] ËΩâ 3ËôüÁ∑ö ‚ûî [ÂÆâÂúã]\nüïí ÊôÇÈñìÔºö‰πòËªä+ËΩâ‰πòÁ¥Ñ 25 ÂàÜÈêò (ÂÅáÊó•Âú∞ÈêµÊúÄÁ©©)", coords: [37.5766, 126.9854] },
                            { time: "10:30", location: "Artist Bakery", category: "food", note: "ÈπΩÈ∫µÂåÖÂ§ñÂ∏∂/ÈªûÂøÉ\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1 Â∞èÊôÇ\nüí° ÂÇôË®ªÔºöË≤∑ÂÆåÂæåÂèØÂú®ÂÆâÂúãÁ´ôÂë®ÈÇäÁ®ç‰Ωú‰ºëÊÅØ", coords: [37.5768, 126.9850] },
                            { time: "12:00", location: "ÂçàÈ§êÔºöÁæ©ÂºèÊñôÁêÜ„Äê‰∫åÈÅ∏‰∏Ä„Äë", category: "food", note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ\n‚ù∂ Ikseon Chwihyang (ÁõäÂñÑÁø†Èüø)\n‚ù∑ Ganpan Eopneun Gage (ÁÑ°ÊãõÁâåÂ∫ó)", coords: [37.5744, 126.9905] },
                            { time: "13:30", location: "ÁõäÂñÑÊ¥ûÈüìÂ±ãÊùë", category: "activity", note: "Ê∞õÂúçÂíñÂï°Âª≥/ÊñáÂâµÂ∞èÁâ© (Ê∏ÖÊ∞¥Â†Ç / Ê®ÇÂúíÈ©õ)\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ", coords: [37.5744, 126.9905] },
                            { time: "15:15", location: "‰∫§ÈÄöÔºöÁõäÂñÑÊ¥û ‚ûî Êñ∞ÁæÖÂÖçÁ®Ö", category: "transport", note: "üöï Âº∑ÁÉàÂª∫Ë≠∞ÔºöË®àÁ®ãËªä (ÁúÅÂäõ‰∏îÂø´ÈÄü)\nüïí ÊôÇÈñìÔºöËªäÁ®ãÁ¥Ñ 15 ÂàÜÈêò (Á¥Ñ 8,000 ÈüìÂÖÉ)", coords: [37.5562, 127.0084] },
                            { time: "15:40", location: "Êñ∞ÁæÖÂÖçÁ®ÖÂ∫ó È¶ñÁàæÂ∫ó", category: "shopping", note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 2 Â∞èÊôÇ (Âê´Ëæ¶Âç°„ÄÅË©¶Ëâ≤„ÄÅÁµêÂ∏≥)", coords: [37.5562, 127.0084] },
                            { time: "17:40", location: "‰∫§ÈÄöÔºöÂÖçÁ®ÖÂ∫ó ‚ûî ÈêòË∑Ø3Ë°ó", category: "transport", note: "üöï Âª∫Ë≠∞ÔºöË®àÁ®ãËªä (Á¥Ñ 10-15 ÂàÜÈêò / 8,000-10,000 ÈüìÂÖÉ)", coords: [37.5714, 126.9915] },
                            { time: "18:00", location: "ÊôöÈ§êÔºöÈõûÊûóÈ£üÂ†Ç Êú¨Â∫ó", category: "food", note: "üìç ‰ΩçÁΩÆÔºöÈêòË∑Ø3Ë°óÁ´ô 12 ËôüÂá∫Âè£ÈôÑËøë\nüí° „ÄêÂÇôÊ°à Plan B„Äë‰πôÊîØÁ≤æËÇâ (Ê≠•Ë°åÁ¥Ñ 5-8 ÂàÜÈêò)", coords: [37.5714, 126.9915] },
                            { time: "20:00", location: "‰∫§ÈÄöÔºöÈêòË∑Ø3Ë°ó ‚ûî È£ØÂ∫ó", category: "transport", note: "üí≥ Âú∞Èêµ 1ËôüÁ∑ö [ÈêòË∑Ø3Ë°ó] ‚ûî [ÈæçÂ±±Á´ô] (Áõ¥ÈÅî)\nüïí ÊôÇÈñìÔºö‰πòËªäÁ¥Ñ 12 ÂàÜÈêò + Ê≠•Ë°åÂõûÈ£ØÂ∫ó 5 ÂàÜÈêò", coords: [37.5293, 126.9654] }
                        ]
                    },
                    {
                        date: "06/07 (Êó•) Day 7",
                        title: "Ââ™È´ÆÔºãÊúõÈÅ†ÔºãÂºòÂ§ßÔºãÊñ∞Êùë",
                        lunch: "ÊúõÈÅ†Â∏ÇÂ†¥Â∞èÂêÉ",
                        dinner: "Êñ∞Êùë Â•∂Ëæ£ÁáâÊéíÈ™®",
                        events: [
                            { time: "10:20", location: "‰∫§ÈÄöÔºöÈæçÂ±± ‚ûî Âêà‰∫ï", category: "transport", note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 4ËôüÁ∑ö [Êñ∞ÈæçÂ±±] ‚ûî [‰∏âËßíÂú∞] ËΩâ 6ËôüÁ∑ö ‚ûî [Âêà‰∫ï]\nüïí ÊôÇÈñìÔºö‰πòËªä+ËΩâ‰πòÁ¥Ñ 20-25 ÂàÜÈêò (ËΩâ‰πòÊúÄÁúÅÂäõ)\nüöï ÂÇôÊ°àÔºöË®àÁ®ãËªäÁõ¥ÈÅîÂêà‰∫ï (Á¥Ñ 15-20 ÂàÜÈêò / 10,000 ÈüìÂÖÉ)", coords: [37.5488, 126.9133] },
                            { time: "11:00", location: "Âêà‰∫ïÁ´ôÈ´ÆÂªä", category: "activity", note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 4 Â∞èÊôÇ (Ââ™+Êüì/ÁáôÔºåÂê´Ê∫ùÈÄöÊôÇÈñì)", coords: [37.5488, 126.9133] },
                            { time: "15:00", location: "‰∫§ÈÄöÔºöÂêà‰∫ï ‚ûî ÊúõÈÅ†", category: "transport", note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 6ËôüÁ∑ö (ÂÉÖ 1 Á´ô)\nüïí ÊôÇÈñìÔºö‰πòËªä 2 ÂàÜÈêò + Ê≠•Ë°åËá≥Â∏ÇÂ†¥Á¥Ñ 5-8 ÂàÜÈêò", coords: [37.5561, 126.9064] },
                            { time: "15:20", location: "ÊúõÈÅ†Â∏ÇÂ†¥", category: "food", note: "ÂêÉÈõ®ËÄ≥Ê®ÇÁÇ∏Ëæ£Ê§í„ÄÅÂèØÊ®ÇÈ§Ö\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ", coords: [37.5561, 126.9064] },
                            { time: "16:40", location: "‰∫§ÈÄöÔºöÊúõÈÅ† ‚ûî ÂºòÂ§ß", category: "transport", note: "üí≥ Ê∞£ÂÄôÂç°ÔºöÂú∞Èêµ 6ËôüÁ∑öËΩâ 2ËôüÁ∑ö\nüïí ÊôÇÈñìÔºö‰πòËªä+ËΩâ‰πòÁ¥Ñ 15 ÂàÜÈêò", coords: [37.5575, 126.9245] },
                            { time: "17:00", location: "ÂºòÂ§ßÂÖ•Âè£Á´ô 8 ËôüÂá∫Âè£", category: "shopping", note: "Ëó•Â±Ä/ÁæéÂ¶ù Âø´ÈÄüË£úË≤®\nüïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ", coords: [37.5575, 126.9245] },
                            { time: "19:00", location: "‰∫§ÈÄöÔºöÂºòÂ§ß ‚ûî Êñ∞Êùë", category: "transport", note: "üö∂ Ê≠•Ë°åÔºöÊ≤ø‰∫¨Áæ©Á∑öÊõ∏Ë°óÊï£Ê≠•Á¥Ñ 15-20 ÂàÜÈêò\nüí≥ Âú∞ÈêµÔºö2ËôüÁ∑ö (1 Á´ô) Á¥Ñ 5 ÂàÜÈêò", coords: [37.5551, 126.9369] },
                            { time: "19:30", location: "ÊôöÈ§êÔºöÊñ∞Êùë Â•∂Ëæ£ÁáâÊéíÈ™®", category: "food", note: "üïí È†ê‰º∞ÂÅúÁïôÔºöÁ¥Ñ 1.5 Â∞èÊôÇ", coords: [37.5551, 126.9369] },
                            { time: "21:00", location: "‰∫§ÈÄöÔºöÊñ∞Êùë ‚ûî È£ØÂ∫ó", category: "transport", note: "üöï Âª∫Ë≠∞ÔºöË®àÁ®ãËªä\nüïí ÊôÇÈñìÔºöËªäÁ®ãÁ¥Ñ 15-20 ÂàÜÈêò (Á¥Ñ 9,000 ÈüìÂÖÉ)", coords: [37.5293, 126.9654] }
                        ]
                    },
                    {
                        date: "06/08 (‰∏Ä) Day 8",
                        title: "ÈÄÄÊàøÁ©∫Ê™î(4h)ÔºãÊ©üÂ†¥Â†±Âà∞",
                        lunch: "I-Park Mall/Ë∂ÖÂ∏Ç",
                        dinner: "Ê©ü‰∏ä/Ê©üÂ†¥",
                        events: [
                            { time: "10:00", location: "Êï¥ÁêÜË°åÊùé & Ê∫ñÂÇô Check-out", category: "hotel", note: "", coords: [37.5293, 126.9654] },
                            { time: "11:00", location: "Ëæ¶ÁêÜÈÄÄÊàø", category: "hotel", note: "üß≥ Âãï‰ΩúÔºöÂ∞áË°åÊùéÂØÑÊîæÂú®È£ØÂ∫óÊ´ÉÂè∞", coords: [37.5293, 126.9654] },
                            { time: "11:15", location: "„ÄêÁ©∫Á™óÊúü„ÄëÊúÄÂæåÊéÉË≤®", category: "shopping", note: "üïí ÂèØÁî®ÊôÇÈñìÔºöÁ¥Ñ 4 - 5 Â∞èÊôÇ\nüí° Âª∫Ë≠∞ AÔºöEmart ÈæçÂ±±Â∫ó (Ê≠•Ë°åÂèØÈÅî)\nüí° Âª∫Ë≠∞ BÔºöiPark Mall (Gundam Base / Living Park)", coords: [37.5286, 126.9640] },
                            { time: "16:30", location: "ÂõûÂà∞È£ØÂ∫óÈ†òÂèñË°åÊùé", category: "hotel", note: "", coords: [37.5293, 126.9654] },
                            { time: "17:00", location: "‰∫§ÈÄöÔºöÈ£ØÂ∫ó ‚ûî ÈáëÊµ¶Ê©üÂ†¥", category: "transport", note: "üöï Âª∫Ë≠∞ÔºöË®àÁ®ãËªä (ÈÅøÈñã‰∏ãÁè≠‰∫∫ÊΩÆ)\nüïí ÊôÇÈñìÔºöËªäÁ®ã‰º∞ 40-50 ÂàÜÈêò (Á¥Ñ 25,000 ÈüìÂÖÉ)", coords: [37.5587, 126.8028] },
                            { time: "17:50", location: "ÊäµÈÅîÈáëÊµ¶Ê©üÂ†¥ & Â†±Âà∞", category: "flight", note: "1. Ë®óÈÅãË°åÊùé (Check-in)\n2. Ëæ¶ÁêÜÈÄÄÁ®ÖÔºö2Ê®ìÊµ∑ÈóúËìãÁ´† -> 3Ê®ìÈÄÄÁ®ÖÊ´ÉÂè∞\n*‚ö†Ô∏è Ë®ªÔºöÈáëÊµ¶ÈÄÄÁ®ÖÊ©üÈÄöÂ∏∏Âú®ÂÆâÊ™¢Ââç", coords: [37.5587, 126.8028] },
                            { time: "18:30", location: "ÈÄöÈÅéÂÆâÊ™¢ & Ë≠âÁÖßÊü•È©ó", category: "alert", note: "üïí È†ê‰º∞ÊôÇÈñìÔºöÁ¥Ñ 20-30 ÂàÜÈêò", coords: null },
                            { time: "19:00", location: "È†òÂèñÂÖçÁ®ÖÂìÅ & ÈÄÄÁ®ÖÈáë", category: "shopping", note: "üìç ‰ΩçÁΩÆÔºöÈÄöÈÅéÂÆâÊ™¢Âæå 3Ê®ì 34ËôüÁôªÊ©üÈñÄÈôÑËøë\n*Ë®ªÔºöÊâÄÊúâÂÖçÁ®ÖÂ∫óÁöÜÂú®Âêå‰∏ÄËôïÊèêË≤®", coords: null },
                            { time: "19:55", location: "„ÄêÁôªÊ©üÊôÇÈñì Boarding„Äë", category: "alert", note: "Ëµ∑È£õÂâç 40 ÂàÜÈêò\n‚ö†Ô∏è ÊèêÈÜíÔºöË´ãÁ¢∫‰øùÂ∑≤È†òÂÆåÂÖçÁ®ÖÂìÅÔºåÈÅøÂÖçÂ£ìÁ∑ö", coords: null },
                            { time: "20:35", location: "Ëµ∑È£õËøîÁ®ã (ÂõûÈ´òÈõÑ)", category: "flight", note: "‚úàÔ∏è Âè∞ÁÅ£ËôéËà™ IT663", coords: null },
                            { time: "22:40", location: "ÊäµÈÅîÈ´òÈõÑÂ∞èÊ∏ØÊ©üÂ†¥", category: "transport", note: "Âπ≥ÂÆâÂõûÂÆ∂", coords: [22.5768, 120.3478] }
                        ]
                    }
                ]);

                // --- Ëé´Ëò≠Ëø™ÈÖçËâ≤ÈÇèËºØ ---
                const getDotColor = (cat) => {
                    const map = { 
                        activity: 'bg-morandi-rose border-[#D6BCC0]', 
                        food: 'bg-morandi-sand border-[#D6C0B3]', 
                        shopping: 'bg-morandi-blue border-[#8E9AAF]', 
                        transport: 'bg-morandi-green border-[#8FA39D]', 
                        hotel: 'bg-morandi-charcoal border-[#5D6D7E]', 
                        flight: 'bg-morandi-clay border-[#BCAAA4]', 
                        alert: 'bg-red-400 border-red-300' 
                    };
                    return map[cat] || 'bg-gray-400';
                };

                const getCategoryBadge = (cat) => {
                    const map = { 
                        activity: 'bg-morandi-rose', 
                        food: 'bg-morandi-sand', 
                        shopping: 'bg-morandi-blue', 
                        transport: 'bg-morandi-green', 
                        hotel: 'bg-morandi-charcoal', 
                        flight: 'bg-morandi-clay', 
                        alert: 'bg-red-500' 
                    };
                    return map[cat] || 'bg-gray-400';
                };

                const formatNote = (text) => {
                    return text.replace(/(‚ö†Ô∏è|üõë|„Äê|„Äë)/g, '<span class="text-morandi-charcoal font-bold">$1</span>')
                               .replace(/\n/g, '<br>');
                };

                // --- ‰∫íÂãïËàáÂú∞Âúñ ---
                const currentDayIndex = ref(0);
                const currentDay = ref(schedule.value[0]);
                const activeEvent = ref(null);
                let map = null;
                let markers = [];

                const initMap = () => {
                    map = L.map('map', { zoomControl: false }).setView([37.5665, 126.9780], 13);
                    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                        attribution: '&copy; OpenStreetMap &copy; CARTO', maxZoom: 20
                    }).addTo(map);
                    renderMarkers();
                };

                const renderMarkers = () => {
                    markers.forEach(m => map.removeLayer(m));
                    markers = [];
                    const bounds = L.latLngBounds();
                    let hasCoords = false;

                    const colorMap = {
                        activity: '#D6BCC0', food: '#D6C0B3', shopping: '#8E9AAF',
                        transport: '#8FA39D', hotel: '#5D6D7E', flight: '#BCAAA4', alert: '#EF4444'
                    };

                    currentDay.value.events.forEach((event) => {
                        if (event.coords) {
                            hasCoords = true;
                            const color = colorMap[event.category] || '#9CA3AF';
                            
                            const iconHtml = `
                                <div style="background-color: ${color};" class="custom-marker-pin"></div>
                                <i class="fa-solid ${getIconClass(event.category)} text-white absolute top-[-8px] left-[1px] text-[12px] z-10 w-[30px] text-center"></i>
                            `;
                            
                            const icon = L.divIcon({
                                className: 'custom-marker',
                                html: iconHtml,
                                iconSize: [30, 42],
                                iconAnchor: [15, 42],
                                popupAnchor: [0, -45]
                            });

                            const marker = L.marker(event.coords, { icon: icon }).addTo(map);
                            marker.bindPopup(`<div class="font-sans font-bold text-gray-700 p-1">${event.location}</div>`, { closeButton: false });
                            marker.on('click', () => focusEvent(event));
                            marker.eventData = event;
                            markers.push(marker);
                            bounds.extend(event.coords);
                        }
                    });

                    if (hasCoords) map.fitBounds(bounds, { padding: [100, 100], maxZoom: 15 });
                };

                const getIconClass = (cat) => {
                     const map = { activity: 'fa-camera', food: 'fa-utensils', shopping: 'fa-bag-shopping', transport: 'fa-train-subway', hotel: 'fa-bed', flight: 'fa-plane', alert: 'fa-exclamation' };
                    return map[cat] || 'fa-location-dot';
                }

                const selectDay = (index) => {
                    currentDayIndex.value = index;
                    currentDay.value = schedule.value[index];
                    activeEvent.value = null;
                    document.getElementById('timeline-container').scrollTop = 0;
                    nextTick(() => {
                        document.getElementById('day-btn-' + index)?.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                        renderMarkers();
                    });
                };

                const focusEvent = (event) => {
                    activeEvent.value = event;
                    if (event.coords && map) {
                        map.flyTo(event.coords, 16, { animate: true, duration: 1.2 });
                        markers.forEach(m => m.eventData === event ? m.openPopup() : m.closePopup());
                    }
                };
                
                const scrollToCurrent = () => {
                   const container = document.getElementById('timeline-container');
                   if(container) container.scrollTop = 0;
                }

                onMounted(() => initMap());

                return { schedule, currentDay, currentDayIndex, activeEvent, selectDay, focusEvent, getDotColor, getCategoryBadge, formatNote, scrollToCurrent, showInfo };
            }
        }).mount('#app');
    </script>
</body>
</html>
